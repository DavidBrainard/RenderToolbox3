<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Render Toolbox 3: Readers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Render Toolbox 3
   &#160;<span id="projectnumber">v1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Readers</div>  </div>
</div><!--header-->
<div class="contents">

<p>Read multi-spectral data from various image file formats.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3e3389b35714ba0a7afac464401738a2"><td class="memItemLeft" align="right" valign="top">imageData imageSize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___readers.html#ga3e3389b35714ba0a7afac464401738a2">ReadDAT</a> (filename)</td></tr>
<tr class="memdesc:ga3e3389b35714ba0a7afac464401738a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get multispectral image data out of a .dat file from Stanford.  <a href="#ga3e3389b35714ba0a7afac464401738a2"></a><br/></td></tr>
<tr class="separator:ga3e3389b35714ba0a7afac464401738a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf72cc6d7ce52aa6f268a4aa80f116aeb"><td class="memItemLeft" align="right" valign="top">imageData imageSize wls&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___readers.html#gaf72cc6d7ce52aa6f268a4aa80f116aeb">ReadEXRs</a> (imageDir, imageBase, S)</td></tr>
<tr class="memdesc:gaf72cc6d7ce52aa6f268a4aa80f116aeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get multi-spectral image data out of some .exr files in a folder.  <a href="#gaf72cc6d7ce52aa6f268a4aa80f116aeb"></a><br/></td></tr>
<tr class="separator:gaf72cc6d7ce52aa6f268a4aa80f116aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab58b787ca6d9c9dcdcda55b499001115"><td class="memItemLeft" align="right" valign="top">imageData imageSize wavelengths&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___readers.html#gab58b787ca6d9c9dcdcda55b499001115">ReadMIF</a> (filename)</td></tr>
<tr class="memdesc:gab58b787ca6d9c9dcdcda55b499001115"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get multispectral image data out of a .mif file from Stanford.  <a href="#gab58b787ca6d9c9dcdcda55b499001115"></a><br/></td></tr>
<tr class="separator:gab58b787ca6d9c9dcdcda55b499001115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga612881ed326c435e0d2edddee80e2268"><td class="memItemLeft" align="right" valign="top">imageData wls S&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___readers.html#ga612881ed326c435e0d2edddee80e2268">ReadMultispectralEXR</a> (exrFile)</td></tr>
<tr class="memdesc:ga612881ed326c435e0d2edddee80e2268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read an OpenEXR image with multiple spectral slices.  <a href="#ga612881ed326c435e0d2edddee80e2268"></a><br/></td></tr>
<tr class="separator:ga612881ed326c435e0d2edddee80e2268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca2988126591acbea768f210d632ba3e"><td class="memItemLeft" align="right" valign="top">wavelengths magnitudes&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___readers.html#gaca2988126591acbea768f210d632ba3e">ReadSpectrum</a> (spectrum)</td></tr>
<tr class="memdesc:gaca2988126591acbea768f210d632ba3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get wavelengths and magnitudes from a spectrum string or text file.  <a href="#gaca2988126591acbea768f210d632ba3e"></a><br/></td></tr>
<tr class="separator:gaca2988126591acbea768f210d632ba3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa838c79251d61c51a0bf599f18c0100a"><td class="memItemLeft" align="right" valign="top">filename&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___readers.html#gaa838c79251d61c51a0bf599f18c0100a">WriteSpectrumFile</a> (wavelengths, magnitudes, filename)</td></tr>
<tr class="memdesc:gaa838c79251d61c51a0bf599f18c0100a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a given spectral power distribution to a text file.  <a href="#gaa838c79251d61c51a0bf599f18c0100a"></a><br/></td></tr>
<tr class="separator:gaa838c79251d61c51a0bf599f18c0100a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Read multi-spectral data from various image file formats. </p>
<p>These functions read multi-spectral data from image files. Each one oparates on a particular image file format. They all return multi-spectral images with size [height, width, n], where n is the number of image spectral planes. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga3e3389b35714ba0a7afac464401738a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">imageData imageSize ReadDAT </td>
          <td>(</td>
          <td class="paramtype">filename&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get multispectral image data out of a .dat file from Stanford. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>string file name (path optional) of the .dat file</td></tr>
  </table>
  </dd>
</dl>
<p>Reads the given multi-spectral .dat file from <em>filename</em>. The .dat format is described by Andy Lin on the Stanford Vision and Imaging Science and Technology <a href="http://white.stanford.edu/pdcwiki/index.php/PBRTFileFormat">wiki</a>. (If not, a description may be there soon.)</p>
<p>See the RenderToolbox3 wiki for more about image <a href="https://github.com/DavidBrainard/RenderToolbox3/wiki/Spectrum-Bands">Spectrum Bands</a>, and how RenderToolbox3 determines the spectral sampling of PBRT .dat files.</p>
<p>Returns a matrix of multispectral image data, with size [height width n], where height and width are image size in pixels, and n is the number of spectral planes.</p>
<p>Also returns the multispectral image dimensions [height width n].</p>
<p>Usage: [imageData, imageSize] = <a class="el" href="group___readers.html#ga3e3389b35714ba0a7afac464401738a2" title="Get multispectral image data out of a .dat file from Stanford.">ReadDAT(filename)</a> </p>

</div>
</div>
<a class="anchor" id="gaf72cc6d7ce52aa6f268a4aa80f116aeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">imageData imageSize wls ReadEXRs </td>
          <td>(</td>
          <td class="paramtype">imageDir&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">imageBase&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">S&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get multi-spectral image data out of some .exr files in a folder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imageDir</td><td>string folder name containing .exr files </td></tr>
    <tr><td class="paramname">imageBase</td><td>string prefix that all .exr file names start with </td></tr>
    <tr><td class="paramname">S</td><td>matrix specifying spectral plane wavelengths [start delta n]</td></tr>
  </table>
  </dd>
</dl>
<p>Reads .exr files from the given <em>imageDir</em>. Each .exr file should contain a grayscale image. Each file should be named like "@a imageBase-LOW-HIGH.ext", where <em>imageBase</em> is a common prefix for all images, and LOW and HIGH are wavelengths that define a spectral band.</p>
<p>The <em>S</em> determines what file names to look for. S must be a [start delta n] description of a list of wavelengths.</p>
<p>Returns a matrix of multispectral image data, with size [height width n], where height and width are image size in pixels, and n is the number of spectral planes.</p>
<p>Also returns the multi-spectral image dimensions [height width n]. Also returns a matrix of length n that lists the wavelengths of all spectral planes in nanometers.</p>
<p>Usage: [imageData, imageSize, wls] = <a class="el" href="group___readers.html#gaf72cc6d7ce52aa6f268a4aa80f116aeb" title="Get multi-spectral image data out of some .exr files in a folder.">ReadEXRs(imageDir, imageBase, S)</a> </p>

</div>
</div>
<a class="anchor" id="gab58b787ca6d9c9dcdcda55b499001115"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">imageData imageSize wavelengths ReadMIF </td>
          <td>(</td>
          <td class="paramtype">filename&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get multispectral image data out of a .mif file from Stanford. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>string file name (path optional) of the .mif file</td></tr>
  </table>
  </dd>
</dl>
<p>Reads the given multispectral .mif file from <em>filename</em>. The .mif format is described by Andy Lin on the Stanford Vision and Imaging Science and Technology wiki: <a href="http://white.stanford.edu/pdcwiki/index.php/PBRTFileFormat">http://white.stanford.edu/pdcwiki/index.php/PBRTFileFormat</a></p>
<p>Returns a matrix of multispectral image data, with size [height width n], where height and width are image size in pixels, and n is the number of spectral planes.</p>
<p>Also returns the multispectral image dimensions [height width n]. Also returns a matrix of length n that lists the wavelengths of all spectral planes in nanometers.</p>
<p>Usage: [imageData, imageSize, wavelengths] = <a class="el" href="group___readers.html#gab58b787ca6d9c9dcdcda55b499001115" title="Get multispectral image data out of a .mif file from Stanford.">ReadMIF(filename)</a> </p>

</div>
</div>
<a class="anchor" id="ga612881ed326c435e0d2edddee80e2268"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">imageData wls S ReadMultispectralEXR </td>
          <td>(</td>
          <td class="paramtype">exrFile&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read an OpenEXR image with multiple spectral slices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exrFile</td><td>file name or path of an OpenEXR file</td></tr>
  </table>
  </dd>
</dl>
<p>Reads an OpenEXR image with an arbitrary number of spectral slices.</p>
<p>The given <em>exrFile</em> should be an OpenEXR multi-spectral data file, with color data stored as evenly spaced slices through the spectrum, not as RGB or RGBA. Each slice must have a name that identifies the wavelengths of that particular slice. The name should be formatted like this: </p>
<div class="fragment"><div class="line">12.34-56.78nm</div>
</div><!-- fragment --><p> where "12.34" represents any decimal value for the low bound of the slice's spectrum band, and "56.78" represents any decimal value for the high bound. Both values should be in units of nanometers. The "nm" suffix is optional. Image slices with names that don't match this pattern will be ignored.</p>
<p>Returns an array of image data with size [height width n], where height and width are image sizes in pixels, and n is the number of spectral slices. The n slices will be sorted from low to high wavelength.</p>
<p>Also returns the list of n wavelengths, one for each spectral slice. The wavelength for each slice is taken as the mean of the low and high bounds The list of wavelengths will be sorted from low to high. See the RenderToolbox3 wiki for more about <a href="https://github.com/DavidBrainard/RenderToolbox3/wiki/Spectrum-Bands">Spectrum Bands</a></p>
<p>Also returns a summary of the list of wavelengths in "S" format. This is an array with elements [start delta n].</p>
<p>Usage: [imageData, wls, S] = <a class="el" href="group___readers.html#ga612881ed326c435e0d2edddee80e2268" title="Read an OpenEXR image with multiple spectral slices.">ReadMultispectralEXR(exrFile)</a> </p>

</div>
</div>
<a class="anchor" id="gaca2988126591acbea768f210d632ba3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wavelengths magnitudes ReadSpectrum </td>
          <td>(</td>
          <td class="paramtype">spectrum&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get wavelengths and magnitudes from a spectrum string or text file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spectrum</td><td>string or file name (path optional) with spectrum data</td></tr>
  </table>
  </dd>
</dl>
<p>Scans the given <em>spectrum</em> for wavelength-magnitude pairs. <em>spectrum</em> may be a string or a spectrum data text file.</p>
<p>If <em>spectrum</em> is a string, it must contain wavelength:magnitude pairs, with spaces between pairs. For example: </p>
<div class="fragment"><div class="line">300:0.1 550:0.5 800:0.9</div>
</div><!-- fragment --><p> where 300, 550, and 800 are wavelengths in namometers, and 0.1, 0.5, and 0.9 are magnutudes for each wavelength.</p>
<p>If <em>spectrum</em> is a file name, the file must contain wavelength-magnitude pairs, with new lines between paris. For example: </p>
<div class="fragment"><div class="line">300 0.1</div>
<div class="line">550 0.5</div>
<div class="line">800 0.9</div>
</div><!-- fragment --><p> where 300, 550, and 800 are wavelengths in namometers, and 0.1, 0.5, and 0.9 are magnutudes for each wavelength.</p>
<p>Returns a 1 x n matrix of n wavelengths, and a corresponding 1 x n matrix of magnitudes.</p>
<p>Usage: [wavelengths, magnitudes] = <a class="el" href="group___readers.html#gaca2988126591acbea768f210d632ba3e" title="Get wavelengths and magnitudes from a spectrum string or text file.">ReadSpectrum(spectrum)</a> </p>

</div>
</div>
<a class="anchor" id="gaa838c79251d61c51a0bf599f18c0100a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">filename WriteSpectrumFile </td>
          <td>(</td>
          <td class="paramtype">wavelengths&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">magnitudes&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">filename&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a given spectral power distribution to a text file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wavelengths</td><td>matrix of spectrum sampling wavelengths </td></tr>
    <tr><td class="paramname">magnitudes</td><td>matrix of spectrum sample magnitudes </td></tr>
    <tr><td class="paramname">filename</td><td>name of a text file to create or replace</td></tr>
  </table>
  </dd>
</dl>
<p>Writes the given <em>wavelengths</em> and <em>magnitudes</em> to a spectrum data text file, with the given <em>filename</em>.</p>
<p>The text file will contain a wavelength-magnitude pair on each line. This format is suitable for specifying spectra to PBRT or Mitsuba. For example: </p>
<div class="fragment"><div class="line">300 0.1</div>
<div class="line">550 0.5</div>
<div class="line">800 0.9</div>
</div><!-- fragment --><p> where 300, 550, and 800 are wavelengths in namometers, and 0.1, 0.5, and 0.9 are magnutudes for each wavelength.</p>
<p>Returns the given <em>filename</em>, or a default file name if none was given.</p>
<p>Usage: filename = <a class="el" href="group___readers.html#gaa838c79251d61c51a0bf599f18c0100a" title="Write a given spectral power distribution to a text file.">WriteSpectrumFile(wavelengths, magnitudes, filename)</a> </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 18 2013 19:43:33 for Render Toolbox 3 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
